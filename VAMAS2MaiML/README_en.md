# VAMAS2MaiML
## A : Execution Method
### [Input and Output Data]
- Input Data (Refer to [B: Details] below for conditions, etc.)
  1. MaiML data file containing \<document\> and \<protocol\> content
     INPUT/maiml/input.maiml or INPUT/xxxxx/yyyyyy.maiml
  2. VAMAS data file containing measurement data and related information
- Output Data
  1. MaiML file generated by merging two types of input data
     OUTPUT/output.maiml
  2. Text file converted from metadata contained in the VAMAS data file
     TMP/vamas_output.txt
     
### [Execution Method]
- Method 1
  1. Prepare input files:
     Place the MaiML file in the /INPUT/maiml/ directory.
     Place the VAMAS file in the /INPUT/vamas/ directory.
  2. Execute the command:
     ```sh
     python3 vms2maiml.py
     ```
- Method 2
  1. Prepare input files:
     Place the MaiML file and VAMAS file in the /INPUT/XXXXX/ directory.
     (Note: 'XXXXX' can be any name.)
  2. Execute the command:
     ```sh
     python3 vms2maiml.py XXXXX
     ```

## B : Details
### [Input MaiML Data]
- Ensures that there is only one \<program\> element
- Keys from the VAMAS format are used as 'key' in the generic data containers of materialTemplate, conditionTemplate, and resultTemplate.

<br/>

### [Generated MaiML Data]
- If the VAMAS file contains multiple measurement data, create multiple results.
- Copy the template from the input MaiML file as an instance.
- Only when the keys of the generic data containers in the template match the keys in the VAMAS file, update the value with the VAMAS data.
  (If they don't match, the VAMAS data will be ignored.)
- Create one \<eventLog\>.
- If there are multiple measurement data entries, create multiple traces.
- If there are keys in the VAMAS format that contain data as a LIST or as optional data, create a generic data container wrapped in propertyListType.
  1. corresponding_variables
  2. AdditionalNumericalParam
  3. LinescanCoordinates
  4. SputteringSource

## C : Setting Up the Python Execution Environment
### [Python Version]
- 3.12.x
### [Python Packages]
- requirements.txt
  
